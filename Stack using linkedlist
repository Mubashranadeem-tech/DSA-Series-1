#include <iostream>
using namespace std;
class Node
{
private:
    int element;
    Node* next_node;
public:
    Node(int i = 0, Node* n = nullptr);
    int retrieve() const;
    Node* next() const;
    void setnext(Node* n);
    void setelement(int);
};
Node::Node(int i, Node* n) : element(i), next_node(n)
{

}
int Node::retrieve() const
{
    return element;
}
Node* Node::next() const
{
    return next_node;
}
void Node::setelement(int i)
{
    element = i;
}
void Node::setnext(Node* n)
{
    next_node = n;
}
class Stack
{
private:
    Node* top_node;
    int stack_size;

public:
    Stack();
   
    bool empty() const;
    int top() const;
    int size() const;
    void display() const;
    void push(int value);
    int pop();
    
};

Stack::Stack()
{
    top_node = nullptr;
    stack_size = 0;
}
Stack::~Stack()
{
    clear();
}
bool Stack::empty() const
{
    return (top_node == nullptr);
}
int Stack::top() const
{
    if (empty())
    {
        throw "Stack Underflow";
    }
    return top_node->retrieve();
}
int Stack::size() const
{
    return stack_size;
}
void Stack::display() const
{
    if (empty())
    {
        cout << "\nStack: Empty";
        throw "Stack Underflow";
       
    }
    cout << "\nStack (top to bottom): ";
    for (Node* ptr = top_node; ptr != nullptr; ptr = ptr->next())
    {
        cout << ptr->retrieve() << "\t";
    }
}
void Stack::push(int value)
{
    Node* new_node = new Node(value, top_node);
    top_node = new_node;
    stack_size++;
}
int Stack::pop()
{
    if (empty())
    {
        throw "Stack Underflow";
    }
    int value = top_node->retrieve();
    Node* temp = top_node;
    top_node = top_node->next();
    delete temp;
    stack_size--;
    return value;
}

int main()
{
    Stack s;
    cout << "Empty? " << s.empty() << endl;
    s.push(10);
    s.push(20);
    s.push(30);
    s.push(40);
    s.push(50);
    s.display(); 
    cout << "\nSize: " << s.size();
    cout << "\nTop element: " << s.top();
    cout << "\nPopped: " << s.pop();
    cout << "\nPopped: " << s.pop();
    s.display(); 
    cout << "\nSize: " << s.size();
    s.push(60);
    s.push(70);
    s.display();  
  
   
    cout << "\nEmpty? " << s.empty();
    cout << "\nSize: " << s.size();
    return 0;
}
